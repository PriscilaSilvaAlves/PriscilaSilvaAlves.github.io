<!DOCTYPE html>
<html lang="pt-br">
  <head> 
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="estilo.css">
    <script type="text/javascript" src="js/script.js"></script>
    <script type="text/javascript">
      document.addEventListener('DOMContentLoaded', function(){
        let escrever='';
        let colunas=' ';
        for (var i = 0; i<256; i++) {
          escrever += `<div id="${i}" class="gridClass" quantidade="1"> </div>`
        } 
        for (var i = 0; i <16; i++) {
          colunas += "auto "
        }
        document.getElementById(`gd`).innerHTML = escrever;
        document.getElementById(`gd`).style.gridTemplateColumns=colunas;

        if(window.innerHeight > window.innerWidth){
          for (var i = 0; i<256; i++) {
            document.getElementById(`${i}`).style.height="18px";
            document.getElementById(`${i}`).style.width="18px";
          }
        }else{
          for (var i = 0; i<256; i++) {
            document.getElementById(`${i}`).style.height="30px";
            document.getElementById(`${i}`).style.width="30px";
          }
        }
    
        
      });
    </script>
    <title>Divs</title>
  </head>
  <body>
    <div id="topo">
      <form>
        <div id="gridID">
          <div class="classID">
            <label>Number of squares:</label>
            <input type="number" id="matriz" max="100" min="1">
          </div>
          <div class="classID">
            <button type="button" onclick="createDivs()">Create</button>
          </div>
          <div class="classID">
            <button type="button" onclick="cleanDivs()">Clean</button>
          </div>
        </div>
      </form>
    </div>
    <div id="cores">
      <div id="preto" class="cor"></div>
      <div id="cinza" class="cor"></div>
      <div id="azul" class="cor"></div>
      <div id="ciano" class="cor"></div>
      <div id="vermelho" class="cor"></div>
      <div id="laranja" class="cor"></div>
      <div id="amarelo" class="cor"></div>
      <div id="rosa" class="cor"></div>
      <div id="rosaBebe" class="cor"></div>
      <div id="pink" class="cor"></div>
      <div id="verde" class="cor"></div>
      <div id="verdeLimao" class="cor"></div>
      <div id="marrom" class="cor"></div>
      <div id="bege" class="cor"></div>
      <div id="branco" class="cor"></div>
    </div>
    <div id="corpo">
      <div id="gd">
      </div>
    </div>
    <script type="text/javascript">
        var cor="preto";
        let cores = document.getElementById("cores");
        cores.addEventListener("click", function(event){
          cor = event.target.id;
        })
        let obj = document.getElementById("gd");
        obj.addEventListener("click", function(event){
          let quant = event.target.attributes.quantidade.value;
          var colorrgba = window.getComputedStyle( document.getElementById(`${event.target.id}`)).getPropertyValue('background-color'); 
          if(quant==1){ 
            event.target.style.backgroundColor= selectRGB(cor, "0.2");
            event.target.setAttribute('quantidade','2');
          }else if(quant==2){
            var colorfunc = selectRGB(cor,"0.2");
            if(colorrgba===colorfunc){
              event.target.style.backgroundColor=selectRGB(cor, "0.4");
              event.target.setAttribute('quantidade','3');
            }else{
              event.target.style.backgroundColor=selectRGB(cor, "0.2");
              event.target.setAttribute('quantidade','2');
            }
          }else if(quant==3){
            var colorfunc = selectRGB(cor,"0.4");
            if(colorrgba===colorfunc){
              event.target.style.backgroundColor=selectRGB(cor, "0.6");
              event.target.setAttribute('quantidade','4');
            }else{
              event.target.style.backgroundColor=selectRGB(cor, "0.2");
              event.target.setAttribute('quantidade','2');
            }
          }else if(quant==4){
            var colorfunc = selectRGB(cor,"0.6");
            if(colorrgba===colorfunc){
              event.target.style.backgroundColor=selectRGB(cor, "0.8");
              event.target.setAttribute('quantidade','5');
            }else{
              event.target.style.backgroundColor=selectRGB(cor, "0.2");
              event.target.setAttribute('quantidade','2');
            } 
          }else if(quant==5){
            var colorfunc = selectRGB(cor,"0.8");
            if(colorrgba===colorfunc){
              event.target.style.backgroundColor=selectRGB(cor, "1");
              event.target.setAttribute('quantidade','6');
            }else{
              event.target.style.backgroundColor=selectRGB(cor, "0.2");
              event.target.setAttribute('quantidade','2');
            }
          }else if(quant==6){
            var colorfunc = selectRGB(cor,"1");
            if(colorrgba!==colorfunc){
              event.target.style.backgroundColor=selectRGB(cor, "0.2");
              event.target.setAttribute('quantidade','2');
            }
          }
        }, false);
    </script>
  </body>
</html>
